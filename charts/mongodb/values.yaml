## @section Global parameters
global:
  ## @param global.imageRegistry Global Docker Image registry
  imageRegistry: ""
  ## @param global.imagePullSecrets Global Docker registry secret names as an array
  imagePullSecrets: []

## @section Common parameters
## @param nameOverride String to partially override mongodb.fullname
nameOverride: ""
## @param fullnameOverride String to fully override mongodb.fullname
fullnameOverride: ""
## @param commonLabels Labels to add to all deployed objects
commonLabels: {}
## @param commonAnnotations Annotations to add to all deployed objects
commonAnnotations: {}

## @param podAnnotations Annotations to add to the pod created by the statefulset
podAnnotations: {}
## @param podLabels Labels to add to the pod created by the statefulset
podLabels: {}

## @param revisionHistoryLimit Maximum number of revisions maintained in revision history
revisionHistoryLimit: 10
## @param podManagementPolicy Pod management policy (Parallel for faster startup, OrderedReady for ordered initialization)
podManagementPolicy: Parallel
## param updateStrategyType Pod update strategy
updateStrategyType: RollingUpdate

## @section MongoDB image parameters
image:
  ## @param image.registry MongoDB image registry
  registry: docker.io
  ## @param image.repository MongoDB image repository
  repository: mongo
  ## @param image.tag MongoDB image tag
  tag: "8.2.5@sha256:9e52bf8768ae4f59b9ca734845d15cee0e523ced14b900cc3692d241eec9154c"
  ## @param image.pullPolicy MongoDB image pull policy
  pullPolicy: Always
  ## @param image.args Override default container args (useful when using custom images)
  extraArgs: []

## @param replicaCount Number of MongoDB replicas to deploy
replicaCount: 1

service:
  ## @param service.type Kubernetes service type
  type: ClusterIP
  ## @param service.port MongoDB service port
  port: 27017
  ## @param service.annotations Annotations to add to the mongodb service
  annotations: {}
  ## @param service.headlessServiceSuffix
  headlessServiceSuffix: headless

auth:
  ## @param auth.enabled Enable MongoDB authentication
  enabled: true
  ## @param auth.rootUsername MongoDB root username
  rootUsername: admin
  ## @param auth.rootPassword MongoDB root password (if empty, random password will be generated)
  rootPassword: ""
  ## @param auth.existingSecret Name of existing secret containing MongoDB password
  existingSecret: ""
  ## @param auth.existingSecretPasswordKey Key in existing secret containing MongoDB password
  existingSecretPasswordKey: ""

## @section config MongoDB configuration options
config:
  ## @param config.mountPath MongoDB configuration options
  mountPath: /etc/mongo
  ## @param config.content Include your custom MongoDB configurations here as string
  content: |
    systemLog:
      quiet: true
      verbosity: 0
    net:
      bindIpAll: true
  ## param config.existingConfigmap Name of an existing Configmap to use instead of creating one
  existingConfigmap: ""

## @section customUser Optional user to be created at initialisation with a custom password and database
customUser: {}
  ## @param customUser.name Name of the custom user to be created
  # name: ""
  ## @param customUser.database Name of the database to be created
  # database: ""
  ## @param customUser.password Password to be used for the custom user
  # password: ""
  ## @param customUser.existingSecret Existing secret, in which username, password and database name are saved
  # existingSecret: ""
  ## @param customUser.secretKeys Name of keys in existing secret to use the custom user name, password and database
  # secretKeys:
  #   name: ""
  #   password: ""
  #   database: ""

persistence:
  ## @param persistence.enabled Enable persistent storage
  enabled: true
  ## @param persistence.storageClass Storage class to use for persistent volume
  storageClass: ""
  ## @param persistence.accessMode Access mode for persistent volume
  accessMode: ReadWriteOnce
  ## @param persistence.size Size of persistent volume
  size: 8Gi
  ## @param persistence.mountPath Mount path for MongoDB data
  mountPath: /data/db
  ## @param persistence.annotations Annotations for persistent volume claims
  annotations: {}
  ## @param persistence.labels Labels for persistent volume claim
  labels: {}
  ## @param persistence.existingClaim The name of an existing PVC to use for persistence
  existingClaim: ""
  ## @param persistence.subPath The subdirectory of the volume to mount to
  ## Useful in dev environments and one PV for multiple services
  subPath: ""
  ## @param persistence.persistentVolumeClaimRetentionPolicy Set persistentVolumeClaimRetentionPolicy to explicitly control how PVCs are managed when a stateful set is scaled or deleted
  persistentVolumeClaimRetentionPolicy:

## @param resources Resource limits and requests for MongoDB pod
resources:
  limits:
    memory: 512Mi
  requests:
    cpu: 50m
    memory: 512Mi

## @param nodeSelector Node selector for pod assignment
nodeSelector: {}

## @param tolerations Tolerations for pod assignment
tolerations: []

## @param affinity Affinity rules for pod assignment
affinity: {}

containerSecurityContext:
  ## @param securityContext.runAsUser User ID to run the container
  runAsUser: 999
  ## @param securityContext.runAsNonRoot Run as non-root user
  runAsNonRoot: true
  ## @param containerSecurityContext.allowPrivilegeEscalation Set MongoDB container's privilege escalation
  allowPrivilegeEscalation: false

## @param podSecurityContext Security context for the pod
podSecurityContext:
  ## @param podSecurityContext.fsGroup Set MongoDB pod's Security Context fsGroup
  fsGroup: 999

## @param priorityClassName Priority class for the mongodb instance
priorityClassName: ""

livenessProbe:
  ## @param livenessProbe.enabled Enable liveness probe
  enabled: true
  ## @param livenessProbe.initialDelaySeconds Initial delay before starting probes
  initialDelaySeconds: 30
  ## @param livenessProbe.periodSeconds How often to perform the probe
  periodSeconds: 10
  ## @param livenessProbe.timeoutSeconds Timeout for each probe attempt
  timeoutSeconds: 5
  ## @param livenessProbe.failureThreshold Number of failures before pod is restarted
  failureThreshold: 6
  ## @param livenessProbe.successThreshold Number of successes to mark probe as successful
  successThreshold: 1

readinessProbe:
  ## @param readinessProbe.enabled Enable readiness probe
  enabled: true
  ## @param readinessProbe.initialDelaySeconds Initial delay before starting probes
  initialDelaySeconds: 5
  ## @param readinessProbe.periodSeconds How often to perform the probe
  periodSeconds: 10
  ## @param readinessProbe.timeoutSeconds Timeout for each probe attempt
  timeoutSeconds: 5
  ## @param readinessProbe.failureThreshold Number of failures before pod is marked unready
  failureThreshold: 6
  ## @param readinessProbe.successThreshold Number of successes to mark probe as successful
  successThreshold: 1

startupProbe:
  ## @param startupProbe.enabled Enable startup probe
  enabled: true
  ## @param startupProbe.initialDelaySeconds Initial delay before starting probes
  initialDelaySeconds: 5
  ## @param startupProbe.timeoutSeconds Timeout for each probe attempt
  timeoutSeconds: 5
  ## @param startupProbe.failureThreshold Number of failures before pod is marked unready
  failureThreshold: 60
  ## @param startupProbe.successThreshold Number of successes to mark probe as successful
  successThreshold: 1
  ## @param startupProbe.periodSeconds How often to perform the probe
  periodSeconds: 5

## @param extraEnvVars Additional environment variables to set
extraEnvVars: []
  # - name: CUSTOM_VAR
  #   value: "custom-value"
  # - name: SECRET_VAR
  #   valueFrom:
  #     secretKeyRef:
  #       name: my-secret
  #       key: secret-key

## @param extraVolumes Additional volumes to add to the pod
extraVolumes: []

## @param extraVolumeMounts Additional volume mounts to add to the MongoDB container
extraVolumeMounts: []

## @param extraObjects Array of extra objects to deploy with the release
extraObjects: []

## @section Network Policy parameters
networkPolicy:
  ## @param networkPolicy.enabled Enable NetworkPolicy for MongoDB and metrics
  enabled: false
  ## @param networkPolicy.allowedSources List of allowed sources for network policy
  allowedSources: []
  #  - namespaceSelector:
  #      matchLabels:
  #        monitoring: enabled
  #  - podSelector:
  #      matchLabels:
  #        app: prometheus

## @section Metrics parameters
metrics:
  ## @param metrics.enabled Enable metrics collection
  enabled: false
  ## @param metrics.username Username for metrics collection (defaults to root username if not specified)
  username: ""
  ## @param metrics.image.registry MongoDB Exporter image registry
  ## @param metrics.image.repository MongoDB Exporter image repository
  ## @param metrics.image.tag MongoDB Exporter image tag
  ## @param metrics.image.pullPolicy MongoDB Exporter image pull policy
  image:
    registry: docker.io
    repository: percona/mongodb_exporter
    tag: "0.48.0"
    pullPolicy: IfNotPresent
  ## @param metrics.resources Resource limits and requests for metrics container
  resources:
    limits:
      memory: 256Mi
    requests:
      cpu: 10m
      memory: 64Mi
  ## @param metrics.containerSecurityContext Security context for metrics container
  containerSecurityContext:
    runAsUser: 65534
    runAsNonRoot: true
    allowPrivilegeEscalation: false
    readOnlyRootFilesystem: true
    capabilities:
      drop:
        - ALL
  ## @section Metrics service parameters
  service:
    ## @param metrics.service.type Metrics service type
    type: ClusterIP
    ## @param metrics.service.port Metrics service port
    port: 9216
    ## @param metrics.service.targetPort Metrics service target port
    targetPort: http-metrics
    ## @param metrics.service.annotations Additional annotations for metrics service
    annotations: {}
    ## @param metrics.service.labels Additional labels for metrics service
    labels: {}
  ## @section ServiceMonitor parameters
  serviceMonitor:
    ## @param metrics.serviceMonitor.enabled Create ServiceMonitor resource for scraping metrics using PrometheusOperator
    enabled: false
    ## @param metrics.serviceMonitor.namespace Namespace in which ServiceMonitor is created
    namespace: ""
    ## @param metrics.serviceMonitor.interval Interval at which metrics should be scraped
    interval: 30s
    ## @param metrics.serviceMonitor.scrapeTimeout Timeout after which the scrape is ended
    scrapeTimeout: ""
    ## @param metrics.serviceMonitor.additionalLabels Additional labels for ServiceMonitor
    additionalLabels: {}
    ## @param metrics.serviceMonitor.annotations Additional annotations for ServiceMonitor
    annotations: {}
    ## @param metrics.serviceMonitor.relabelings RelabelConfigs to apply to samples before scraping
    relabelings: []
    ## @param metrics.serviceMonitor.metricRelabelings MetricRelabelConfigs to apply to samples before ingestion
    metricRelabelings: []
    ## @param metrics.serviceMonitor.honorLabels Specify honorLabels parameter to add the scrape endpoint
    honorLabels: false
    ## @param metrics.serviceMonitor.jobLabel The name of the label on the target service to use as the job name in prometheus
    jobLabel: ""
  ## @param metrics.livenessProbe.enabled Enable liveness probe for metrics container
  ## @param metrics.livenessProbe.initialDelaySeconds Initial delay before starting liveness probes
  ## @param metrics.livenessProbe.periodSeconds How often to perform the liveness probe
  ## @param metrics.livenessProbe.timeoutSeconds Timeout for each liveness probe attempt
  ## @param metrics.livenessProbe.failureThreshold Number of failures before container is restarted
  ## @param metrics.livenessProbe.successThreshold Number of successes to mark liveness probe as successful
  livenessProbe:
    enabled: true
    initialDelaySeconds: 15
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
    successThreshold: 1
  ## @param metrics.readinessProbe.enabled Enable readiness probe for metrics container
  ## @param metrics.readinessProbe.initialDelaySeconds Initial delay before starting readiness probes
  ## @param metrics.readinessProbe.periodSeconds How often to perform the readiness probe
  ## @param metrics.readinessProbe.timeoutSeconds Timeout for each readiness probe attempt
  ## @param metrics.readinessProbe.failureThreshold Number of failures before container is marked unready
  ## @param metrics.readinessProbe.successThreshold Number of successes to mark readiness probe as successful
  readinessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
    successThreshold: 1
  ## @param metrics.extraEnvVars Additional environment variables for metrics container
  extraEnvVars: []
  # - name: CUSTOM_VAR
  #   value: "custom-value"
  # - name: SECRET_VAR
  #   valueFrom:
  #     secretKeyRef:
  #       name: my-secret
  #       key: secret-key
  ## @param metrics.extraArgs Additional command line arguments for MongoDB Exporter
  extraArgs: []

## @section serviceAccount Optional service account
serviceAccount:
  ## @param serviceAccount.create Specifies whether a service account should be created
  create: false
  ## @param serviceAccount.annotations Annotations to add to the service account
  annotations: {}
  ## @param serviceAccount.name The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

initContainer:
  ## @param initContainer.resources Resource limits and requests for the arbiter
  resources: {}
    # limits:
    #   cpu: 100m
    #   memory: 128Mi
    # requests:
    #   cpu: 100m
    #   memory: 128Mi

## @section replicaSet Parameters to build a MongoDB replica set (HA mode)
replicaSet:
  ## @param replicaSet.enabled Enables replica set deployment mode
  enabled: false
  ## @param replicaSet.name Replica set name
  name: "repl"
  ## @param replicaSet.key Key for internal replica set authentication (plain text string 6-1024 chars)
  key: ""
  ## @param replicaSet.keySecretName Alternative to 'key' - Name of an existing secret with a file named "keyfile" containing the base64 encoded key string
  keySecretName: ""
  ## @param replicaSet.clusterDomain Default Kubernetes cluster domain
  clusterDomain: cluster.local
  ## @param replicaSet.secondaries Number of secondary instances (should be at least 2 - or - one secondary and an arbiter)
  secondaries: 2
  ## @param replicaSet.hiddenSecondaries Creates hidden secondary instances when configured
  hiddenSecondaries:
    ## @param replicaSet.hiddenSecondaries.instances Number of hidden secondary instances
    instances: 0
    ## @param replicaSet.hiddenSecondaries.headlessServiceSuffix Suffix of the headless service name for hidden secondary instances
    headlessServiceSuffix: hidden
    ## @param replicaSet.hiddenSecondaries.nodeSelector Additional node selector
    nodeSelector: {}
    ## @param replicaSet.hiddenSecondaries.resources Resource limits and requests for the hidden secondary instance
    resources: {}
      # limits:
      #   cpu: 100m
      #   memory: 128Mi
      # requests:
      #   cpu: 100m
      #   memory: 128Mi
    ## @param replicaSet.hiddenSecondaries.tolerations Pod tolerations
    tolerations: []
    ## @param replicaSet.hiddenSecondaries.affinity Pod affinity
    affinity: {}
    ## @param replicaSet.hiddenSecondaries.topologySpreadContraints Topology spread constraints for pods
    topologySpreadConstraints: {}
    ## @param replicaSet.hiddenSecondaries.storage Storage of the hidden secondary
    storage:
      ## @param replicaSet.hiddenSecondaries.storage.persistentVolumeClaimName Set persistentVolumenClaimName to reference an existing PVC
      persistentVolumeClaimName:
      ## @param replicaSet.hiddenSecondaries.storage.persistentVolumeClaimRetentionPolicy Set persistentVolumeClaimRetentionPolicy to explicitly control how PVCs are managed
      ## when a stateful set is scaled or deleted. (new feature in k8s 1.32)
      persistentVolumeClaimRetentionPolicy:
      ## @param replicaSet.hiddenSecondaries.storage.volumeName Internal volume name and prefix of a created PVC
      volumeName: "mongodb-hidden-volume"
      ## @param replicaSet.hiddenSecondaries.storage.requestedSize Alternative set requestedSize to define a size for a dynamically created PVC
      requestedSize: 8Gi
      ## @param replicaSet.hiddenSecondaries.storage.className the storage class name
      className:
      ## @param replicaSet.hiddenSecondaries.storage.accessModes Default access mode (ReadWriteOnce)
      accessModes:
        - ReadWriteOnce
      ## @param replicaSet.hiddenSecondaries.storage.annotations Additional storage annotations
      annotations: {}
      ## @param replicaSet.hiddenSecondaries.storage.labels Additional storage labels
      labels: {}
    ## @param replicaSet.hiddenSecondaries.extraArgs Additional arguments for the hiddenSecondarie container
    extraArgs: []
  ## @param replicaSet.arbiter Creates an additional arbiter when enabled
  arbiter:
    ## @param replicaSet.arbiter.enabled Enable arbiter deployment
    enabled: false
    ## @param replicaSet.arbiter.headlessServiceSuffix Suffix of the arbiters headless service name
    headlessServiceSuffix: arbiter
    ## @param replicaSet.arbiter.resources Resource limits and requests for the arbiter
    resources: {}
      # limits:
      #   cpu: 100m
      #   memory: 128Mi
      # requests:
      #   cpu: 100m
      #   memory: 128Mi
    ## @param replicaSet.arbiter.nodeSelector Additional node selector
    nodeSelector: {}
    ## @param replicaSet.arbiter.tolerations Pod tolerations
    tolerations: []
    ## @param replicaSet.arbiter.affinity Pod affinity
    affinity: {}
    ## @param replicaSet.arbiter.topologySpreadConstraints Topology spread constraints for pods
    topologySpreadConstraints: {}
    ## @param replicaSet.arbiter.storage Storage of the arbiter
    storage:
      ## @param replicaSet.arbiter.storage.persistenVolumeClaimName Set persistentVolumenClaimName to reference an existing PVC
      persistentVolumeClaimName:
      ## @param replicaSet.arbiter.storage.persistentVolumeClaimRetentionPolicy Set persistentVolumeClaimRetentionPolicy to explicitly control how PVCs are managed
      ## when a stateful set is scaled or deleted. (new feature in k8s 1.32)
      persistentVolumeClaimRetentionPolicy:
      ## @param replicaSet.arbiter.storage.volumeName Internal volume name and prefix of a created PVC
      volumeName: "mongodb-arbiter-volume"
      ## @param replicaSet.arbiter.storage.requestedSize Alternative set requestedSize to define a size for a dynamically created PVC
      requestedSize:
      ## @param replicaSet.arbiter.storage.className the storage class name
      className:
      ## @param replicaSet.arbiter.storage.accessModes Default access mode (ReadWriteOnce)
      accessModes:
        - ReadWriteOnce
      ## @param replicaSet.arbiter.storage.annotations Additional storage annotations
      annotations: {}
      ## @param replicaSet.arbiter.storage.labels Additional storage labels
      labels: {}
    ## @param replicaSet.arbiter.extraArgs Additional arguments for the arbiter container
    extraArgs: []

  ## @param replicaSet.extraInit Internal configuration for extra initialization phase which is used during replicaset configuration
  extraInit:
    ## @param replicaSet.extraInit.retries Number of retries to detect whether mongod is fully up and running in background
    retries: 10
    ## @param replicaSet.extraInit.delay Seconds to wait between retries
    delay: 3
    ## @param replicaSet.extraInit.initDelay Seconds to wait after mongod is running to give it time for internal initialization
    initDelay: 5
    ## @param replicaSet.disableTelemetry If true, mongosh telemetry is disabled (see https://www.mongodb.com/docs/mongodb-shell/telemetry)
    disableTelemetry: false
    ## @param replicaSet.extraInit.defaultReadConcern Default read concern for the replica set (empty = MongoDB default: local)
    ## Options: local, available, majority, linearizable, snapshot
    defaultReadConcern: ""
    ## @param replicaSet.extraInit.defaultWriteConcern Default write concern for the replica set (empty = MongoDB default: 1)
    ## Options: 1, majority, or custom write concern
    defaultWriteConcern: ""
  ## @param replicaSet.shutdown Internal shutdown configuration
  shutdown:
    ## @param replicaSet.shutdown.delay Delay until termination request is forwarded to mongod process to give ReplicaSet time for electing a new primary instance
    delay: 10

## @section Common MongoDB parameters (applies to all deployment modes: standalone, replica set, and sharded cluster)
common:
  ## @param common.mongodbDirectoryPerDB Enable MongoDB directoryPerDB option
  mongodbDirectoryPerDB: true
  ## @param common.mongodbDisableSystemLog Disable MongoDB system log
  mongodbDisableSystemLog: false
  ## @param common.mongodbExtraFlags Additional MongoDB command line flags
  mongodbExtraFlags: []

## @section MongoDB engine parameters (applies to all deployment modes: standalone, replica set, and sharded cluster)
performance:
  ## @param performance.wiredTigerCacheSizeGB WiredTiger cache size in GB (empty = MongoDB default: 50% of RAM - 1GB)
  wiredTigerCacheSizeGB: ""
  ## @param performance.oplogSizeMB Oplog size in MB for replica sets and sharded clusters (empty = MongoDB default based on disk size)
  oplogSizeMB: ""
  ## @param performance.maxIncomingConnections Maximum number of simultaneous connections (empty = MongoDB default: 65536)
  maxIncomingConnections: ""

## @section MongoDB setParameter options (advanced server parameters via --setParameter flag)
setParameter:
  ## @param setParameter.enableLocalhostAuthBypass Allow connections from localhost without authentication during initial setup (empty = MongoDB default: true)
  enableLocalhostAuthBypass: ""
  ## @param setParameter.enableFlowControl Enable flow control to prevent secondaries from falling too far behind (empty = MongoDB default: true for replica sets)
  enableFlowControl: ""

## @section Sharded Cluster parameters
shardedCluster:
  ## @param shardedCluster.enabled Enable sharded cluster deployment (mutually exclusive with replicaSet.enabled)
  enabled: false
  ## @param shardedCluster.keyFile Key for internal cluster authentication (plain text string 6-1024 chars)
  keyFile: ""
  ## @param shardedCluster.keySecretName Name of an existing secret with a file named "keyfile" containing the base64 encoded key string
  keySecretName: ""

  ## @section Config Servers configuration
  configsvr:
    ## @param shardedCluster.configsvr.replicaCount Number of config server replicas (minimum 1, recommended 3 for production)
    replicaCount: 3
    ## @param shardedCluster.configsvr.enableConfigShard Enable config shard mode (MongoDB 8.0+ feature that allows config servers to also store user data)
    ## When enabled, transitions from dedicated config servers to config shard architecture using transitionFromDedicatedConfigServer
    ## See: https://www.mongodb.com/docs/manual/reference/command/transitionFromDedicatedConfigServer/
    enableConfigShard: false
    ## @param shardedCluster.configsvr.priorityClassName Priority class name for config server pods
    priorityClassName: ""
    ## @param shardedCluster.configsvr.resources Resource limits and requests for config server pods
    resources:
      limits:
        memory: 512Mi
      requests:
        cpu: 100m
        memory: 512Mi
    ## @param shardedCluster.configsvr.nodeSelector Node selector for config server pods
    nodeSelector: {}
    ## @param shardedCluster.configsvr.tolerations Tolerations for config server pods
    tolerations: []
    ## @param shardedCluster.configsvr.affinity Affinity rules for config server pods
    affinity: {}
    ## @param shardedCluster.configsvr.persistence Storage configuration for config servers
    persistence:
      ## @param shardedCluster.configsvr.persistence.size Size of persistent volume for config servers
      size: 8Gi
      ## @param shardedCluster.configsvr.persistence.storageClass Storage class for config servers
      storageClass: ""
      ## @param shardedCluster.configsvr.persistence.accessMode Access mode for config server persistent volumes
      accessMode: ReadWriteOnce
      ## @param shardedCluster.configsvr.persistence.persistentVolumeClaimRetentionPolicy Set persistentVolumeClaimRetentionPolicy to explicitly control how PVCs are managed when a stateful set is scaled or deleted
      persistentVolumeClaimRetentionPolicy:
    ## @param shardedCluster.configsvr.customInit Custom shell commands to run during config server initialization (executed on each config server pod)
    ## Example: customInit: |
    ##   echo "Custom config server initialization"
    ##   # Add your custom commands here
    customInit: ""

  ## @section Mongos router configuration
  mongos:
    ## @param shardedCluster.mongos.replicaCount Number of mongos router instances (minimum 1, recommended 2+ for production)
    replicaCount: 2
    ## @param shardedCluster.mongos.priorityClassName Priority class name for mongos router pods
    priorityClassName: ""
    ## @param shardedCluster.mongos.resources Resource limits and requests for mongos router pods
    resources:
      limits:
        memory: 256Mi
      requests:
        cpu: 50m
        memory: 256Mi
    ## @param shardedCluster.mongos.nodeSelector Node selector for mongos router pods
    nodeSelector: {}
    ## @param shardedCluster.mongos.tolerations Tolerations for mongos router pods
    tolerations: []
    ## @param shardedCluster.mongos.affinity Affinity rules for mongos router pods
    affinity: {}
    ## @param shardedCluster.mongos.service Service configuration for mongos routers
    service:
      ## @param shardedCluster.mongos.service.type Service type for mongos routers
      type: ClusterIP
      ## @param shardedCluster.mongos.service.port Service port for mongos routers
      port: 27017
      ## @param shardedCluster.mongos.service.annotations Additional annotations for mongos service
      annotations: {}
    ## @param shardedCluster.mongos.customInit Custom shell commands to run during mongos router initialization (executed on each mongos pod)
    ## Example: customInit: |
    ##   echo "Custom mongos initialization"
    ##   # Add your custom commands here
    customInit: ""

  ## @param shardedCluster.shards Number of shards (minimum 2 for meaningful sharding)
  shards: 2

  ## @section Shard servers configuration
  shardsvr:
    ## @param shardedCluster.shardsvr.nodeSelector Node selector for shard server pods (applies to all shard components)
    nodeSelector: {}
    ## @param shardedCluster.shardsvr.tolerations Tolerations for shard server pods (applies to all shard components)
    tolerations: []
    ## @param shardedCluster.shardsvr.affinity Affinity rules for shard server pods (applies to all shard components)
    affinity: {}
    ## @param shardedCluster.shardsvr.persistence Storage configuration for shard servers
    persistence:
      ## @param shardedCluster.shardsvr.persistence.size Size of persistent volume for each shard member
      size: 8Gi
      ## @param shardedCluster.shardsvr.persistence.storageClass Storage class for shards
      storageClass: ""
      ## @param shardedCluster.shardsvr.persistence.accessMode Access mode for shard persistent volumes
      accessMode: ReadWriteOnce
      ## @param shardedCluster.shardsvr.persistence.persistentVolumeClaimRetentionPolicy Set persistentVolumeClaimRetentionPolicy to explicitly control how PVCs are managed when a stateful set is scaled or deleted
      persistentVolumeClaimRetentionPolicy:
    ## @param shardedCluster.shardsvr.customInit Custom shell commands to run during shard server initialization (executed on each shard data node pod)
    ## Example: customInit: |
    ##   echo "Custom shard initialization"
    ##   # Add your custom commands here
    customInit: ""

    ## @section Shard data node configuration
    dataNode:
      ## @param shardedCluster.shardsvr.dataNode.replicaCount Number of data node replicas per shard (minimum 1, recommended 3 for production)
      replicaCount: 3
      ## @param shardedCluster.shardsvr.dataNode.priorityClassName Priority class name for shard data node pods
      priorityClassName: ""
      ## @param shardedCluster.shardsvr.dataNode.resources Resource limits and requests for shard data node pods
      resources:
        limits:
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 1Gi
      ## @param shardedCluster.shardsvr.dataNode.nodeSelector Node selector for shard data node pods (overrides shardsvr.nodeSelector)
      nodeSelector: {}
      ## @param shardedCluster.shardsvr.dataNode.tolerations Tolerations for shard data node pods (overrides shardsvr.tolerations)
      tolerations: []
      ## @param shardedCluster.shardsvr.dataNode.affinity Affinity rules for shard data node pods (overrides shardsvr.affinity)
      affinity: {}

    ## @section Shard arbiter configuration
    ## WARNING: MongoDB does NOT recommend using arbiters in sharded cluster deployments.
    ## Arbiters do not hold data and can lead to consistency issues in sharded environments.
    ## See: https://www.mongodb.com/docs/manual/core/replica-set-arbiter/#sharded-cluster-considerations
    arbiter:
      ## @param shardedCluster.shardsvr.arbiter.replicaCount Number of arbiter replicas per shard (0 to disable, recommended 0 for sharded clusters)
      replicaCount: 0
      ## @param shardedCluster.shardsvr.arbiter.priorityClassName Priority class name for arbiter pods
      priorityClassName: ""
      ## @param shardedCluster.shardsvr.arbiter.resources Resource limits and requests for arbiter pods
      resources:
        limits:
          memory: 256Mi
        requests:
          cpu: 50m
          memory: 256Mi
      ## @param shardedCluster.shardsvr.arbiter.nodeSelector Node selector for arbiter pods (overrides shardsvr.nodeSelector)
      nodeSelector: {}
      ## @param shardedCluster.shardsvr.arbiter.tolerations Tolerations for arbiter pods (overrides shardsvr.tolerations)
      tolerations: []
      ## @param shardedCluster.shardsvr.arbiter.affinity Affinity rules for arbiter pods (overrides shardsvr.affinity)
      affinity: {}
      ## @param shardedCluster.shardsvr.arbiter.extraVolumeMounts Additional volume mounts for arbiter pods
      extraVolumeMounts: []
      ## @param shardedCluster.shardsvr.arbiter.extraVolumes Additional volumes for arbiter pods
      extraVolumes: []

  ## @section Sharding initialization configuration
  initialization:
    ## @param shardedCluster.initialization.enableShardingDatabases List of databases to enable sharding on during initialization
    enableShardingDatabases: []
    ## @param shardedCluster.initialization.shardCollections List of collections to shard during initialization
    ## Example: [{"database": "mydb", "collection": "mycollection", "key": "{userId: 1}"}]
    shardCollections: []
    ## @param shardedCluster.initialization.retries Number of retries during cluster initialization
    retries: 30
    ## @param shardedCluster.initialization.delay Seconds to wait between initialization retries
    delay: 5
    ## @param shardedCluster.initialization.defaultReadConcern Cluster-wide default read concern (empty = MongoDB default: local)
    ## Options: local, available, majority, linearizable, snapshot
    defaultReadConcern: ""
    ## @param shardedCluster.initialization.defaultWriteConcern Cluster-wide default write concern (default: "majority")
    defaultWriteConcern: "majority"

  ## @section Balancer configuration
  balancer:
    ## @param shardedCluster.balancer.enabled Enable or disable the balancer
    enabled: true
    ## @param shardedCluster.balancer.chunkSize Chunk size in MB (default: 64MB)
    chunkSize: 64
    ## @param shardedCluster.balancer.window.start Start time for balancer window (format: HH:MM, empty = always on)
    ## @param shardedCluster.balancer.window.stop Stop time for balancer window (format: HH:MM, empty = always on)
    window:
      start: ""
      stop: ""
    ## @param shardedCluster.balancer.autoSplitEnabled Enable automatic chunk splitting (MongoDB 6.0+)
    autoSplitEnabled: true
